(this["webpackJsonprectangles-no-3"]=this["webpackJsonprectangles-no-3"]||[]).push([[0],{18:function(e,t,r){},29:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),o=r(10),i=r.n(o),s=(r(18),r(5)),u=r(11),l=r(2),d=r.n(l),g=r(12),p=r.p+"static/media/rectangles-no-3.0eed2b58.ogg",f=r.p+"static/media/rectangles-no-3.e3113a81.mid",h=function(){d.a.Transport.PPQ=15360;var e=Object(a.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.colours=[{r:0,g:0,b:0},{r:255,g:255,b:255},{r:221,g:1,b:0},{r:34,g:80,b:149},{r:250,g:201,b:1}],e.preload=function(){g.Midi.fromUrl(f).then((function(t){console.log(t.tracks);var r=t.tracks[3].notes,n=t.tracks[5].notes,a=t.tracks[0].notes;t.tracks[8].notes.filter((function(e){return 43!==e.midi}));e.player=new d.a.Player(p,(function(){e.audioLoaded=!0})).toMaster(),e.player.sync().start(0),e.scheduleCueSet(r,"executeCueSet1"),e.scheduleCueSet(n,"executeCueSet2"),e.scheduleCueSet(a,"executeCueSet3")}))},e.scheduleCueSet=function(t,r){for(var n=-1,a=function(a){var c=t[a],o=c.ticks,i=c.time;o!==n&&(d.a.Transport.schedule((function(){e[r](c)}),i),n=o)},c=0;c<t.length;c++)a(c)},e.multipliers=[],e.rectangleGrid=[],e.cellWidth=0,e.cellHeight=0,e.compositions=[],e.currentComposition=0,e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.frameRate(30),e.background(255),e.stroke(0),e.strokeWeight(4),e.noLoop(),e.cellWidth=e.width/16,e.cellHeight=e.height/16;for(var t=1;t<=4;t++)e.multipliers.push(t);for(var r=1;r<=16;r++)for(var n=1;n<=16;n++)e.rectangleGrid.push({x:r,y:n,empty:!0});for(var a=0;a<60;a++)e.createComposition(),e.compositions.push(e.rectangles)},e.draw=function(){},e.drawRect=function(t){var r=t.x,n=t.y,a=t.widthMultiplier,c=t.heightMultiplier,o=t.colourIndex,i=e.colours[o];e.fill(i.r,i.g,i.b),e.rect(e.cellWidth*r-e.cellWidth,e.cellHeight*n-e.cellHeight,e.cellWidth*a,e.cellHeight*c)},e.currentPointer=0,e.rectanglesPerCue=0,e.currentCue1=1,e.executeCueSet1=function(t){if(e.currentCue1<=10){e.clear(),e.rectangles=e.compositions[e.currentComposition],e.currentComposition++;for(var r=0;r<e.rectangles.length;r++)e.drawRect(e.rectangles[r])}e.currentCue1>20&&(e.colours=[{r:0,g:0,b:0},{r:255,g:255,b:255},{r:e.random(255),g:e.random(255),b:e.random(255)},{r:e.random(255),g:e.random(255),b:e.random(255)},{r:e.random(255),g:e.random(255),b:e.random(255)}]),e.currentCue1++},e.currentCue2=1,e.rectanglesToDraw=[],e.executeCueSet2=function(t){if(e.currentCue2>33&&e.currentCue2<=159){var r=e.currentCue2%33;if(1===r&&(e.rectangles=e.compositions[e.currentComposition],e.currentComposition++,e.rectanglesToDraw=[],e.currentPointer=0,e.rectanglesPerCue=Math.floor(e.rectangles.length/33)),e.currentPointer<e.rectangles.length){for(var n=e.rectanglesPerCue*r<=e.rectangles.length?e.rectanglesPerCue*r:e.rectangles.length,a=e.currentPointer;a<n;a++)e.rectanglesToDraw.push(e.rectangles[a]);e.currentPointer=e.rectanglesPerCue*r}e.clear();for(var c=0;c<e.rectanglesToDraw.length;c++)e.drawRect(e.rectanglesToDraw[c])}e.currentCue2++},e.currentCue3=1,e.executeCueSet3=function(t){if(e.currentCue3>6){e.clear(),e.rectangles=e.compositions[e.currentComposition],e.currentComposition++;for(var r=0;r<e.rectangles.length;r++)e.drawRect(e.rectangles[r])}e.currentCue3++},e.rectangles=[],e.createComposition=function(){e.rectangles=[],e.rectangleGrid=e.rectangleGrid.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{empty:!0})}));for(var t=e.rectangleGrid.some((function(e){return e.empty}));t;){var r=e.random(e.rectangleGrid.filter((function(e){return e.empty}))),n=r.x,a=r.y,c=n<16?e.random(e.multipliers):1,o=a<16?e.random(e.multipliers):1;c=n+c>16?17-n:c,o=a+o>16?17-a:o,e.rectangles.push({x:n,y:a,widthMultiplier:c,heightMultiplier:o,colourIndex:parseInt(e.random(0,5))});for(var i=function(t){for(var r=function(r){var n=e.rectangleGrid.findIndex((function(e){return e.x===t&&e.y===r}));e.rectangleGrid[n].empty=!1},n=a;n<a+o;n++)r(n)},u=n;u<n+c;u++)i(u);t=e.rectangleGrid.some((function(e){return e.empty}))}},e.mousePressed=function(){e.audioLoaded&&("started"===e.player.state?d.a.Transport.pause():"stopped"===e.player.state&&d.a.Transport.start())},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.createCanvas(e.canvasWidth,e.canvasHeight),e.redraw()},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(a.useEffect)((function(){new u(t,e.current)}),[]),Object(n.jsx)("div",{ref:e})};var m=function(){return Object(n.jsx)(h,{})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.9f5c7747.chunk.js.map